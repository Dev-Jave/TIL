# Network

## 소켓 네트워크 프로그래밍
### OSI 계층
인터넷은 하드웨어부터 소프트웨어 개발까지 일곱 단계로 나누어 추상화되어 있다. 이 추상화 계층을 **OSI(Open System Interconnection Reference Model) 7계층**이라고 한다. 

OSI 7계층은 다음과 같다.
* 물리 계층(Pysical Layer) : 물리 계층은 시스템을 연결하기 위한 전기/물리적 규격을 정의함. 얼만큼의 전압을 가져야 하며 전선은 어때야 하는지 등을 나타냄.  
* 데이터 링크 계층(Data Link Layer) : 시스템 간의 신뢰성 있는 전송을 보장하기 위한 계층임. CRC 기반의 오류 제어와 흐름 제어를 위한 규격을 제공함.  
* 네트워크 계층(Network Layer) : Point to Point가 인터넷으로 확장되면, 컴퓨터와 컴퓨터 사이에서 여러 개의 노드가 있을 수 있는데 이럴 때 자연스럽게 경로를 찾는게 중요해짐. 네트워크 계층은 이러한 상황에서 경로를 찾아주기 위한 여러 규격을 제공함.  
* 전송 계층(Transport Layer) : 컴퓨터와 컴퓨터가 신뢰성 있는 데이터 전송을 보장하기 위한 여러 규격 제공함.  
* 세션 계층(Session Layer) : 컴퓨터와 컴퓨터가 연결되어 있을 때 최종적으로 소프트웨어끼리 통신하게 됨. 세션 계층은 이들 소프트웨어의 통신을 관리하기 위한 규격을 제공함.  
* 표현 계층(Presentation Layer) : 어떤 데이터를 인터넷으로 전송할 때 데이터는 다루기 좋은 형태로 인코디오디거나 혹은 보안 상의 이유로 암호화되기도 하는데 이에 대한 규격을 제공함.  
* 응용 계층(Application Layer) : 응용프로그램들 간에 전달되는 데이터를 해석하고 표시하기 위한 규격을 제공함. 이 규격들은 응용 프로그램의 종류에 따라 달라질 수 있음. HTTP, FTP가 대표적인 프로토콜이며, 응용프로그램 종류에 따라 독자적인 프로토콜을 만들어 사용할 수 있음.

### TCP/IP 4계층
OSI 7계층의 경우 컴퓨터 통신 과정을 추상화하여 잘 세분화하였지만 너무 세밀하게 추상화되었다고 생각될 수 있다. 소통을 위해서 계층 간 커뮤니케이션이 필요한데 지나친 세분화로 인해 그만큼 커뮤니케이션이 빈번히 발생하고 그만큼 비용 상승의 원인이 되기 때문이다.

따라서 OSI 7계층에서 몇 개의 계층을 통합하여 단순화한 것이 TCP/IP 4계층이다.
* 응용 계층 : OSI 계층의 응용계층과 표현 계층을 포함한 계층임. 일반적으로 인터넷 프로그램 개발자는 응용 계층과 전송 계층의 일부만 신경쓰면 됨. (나머지 계층은 운영체제와 네트워크 장비들이 처리)
* 전송 계층 : 세션 계층과 전송 계층을 포함함.
* 인터넷 계층 : 네트워크 계층과 데이터 링크 계층을 포함.
* 물리 계층 : OSI 7계층의 물리 계층과 동일함.

### 네트워크 프로그래밍
> 네트워크 프로그램이란 컴퓨터와 컴퓨터가 연결된 망(인터넷)에서 인터넷 규격을 이용해서 서로 정보를 교환할 수 있도록 해주는 프로그램을 일컫는다.

* 캡슐화  
: 사용자가 작성한 유저 데이터는 TCP/IP 4계층을 거치면서 각 계층의 정보로 감싸지고 나서 인터넷으로 보내지게 되는데 이를 캡슐화 혹은 엔캡슐레이션(Encapsulation)이라고 한다. 그리고 이때 덧붙이는 정보를 헤더라고 한다.  
유저 데이터 -> (유저 데이터+TCP헤더) -> (유저 데이터+TCP헤더+IP헤더) + (유저 데이터+TCP헤더+IP헤더+랜카드헤더)

* 역다중화  
: 인터넷으로 보내진 데이터는 여러 경로를 거치면서 목적지 컴퓨터로 이동하게 되는데, 데이터를 받으면 물리 계층부터 차근차근 위로 올라가게 된다. 그러면서 각 계층에 맞는 헤더 정보를 확인하여 벗겨나가게 되고 최종적으로 유저 요청을 받게된다. 유저의 요쳥을 받은 웹서버는 index.html 파일을 읽어서 지금까지의 과정을 역진행하여 클라이언트로 전송한다.

## 소켓 네트워크 프로그래밍에 대한 이해
### 소켓 소개
OSI, TCP/IP와 같이 계층을 나누어 전문화하고 이를 다시 통합해서 단순화했음에도, 네트워크 프로그램 개발 과정이 여전히 복잡하다고 느낄 수 있다. 이를 위해 개발된 것이 **네트워크 프로그램 개발을 위한 새로운 계층**인 **소켓** 이다. 소켓의 계층구조는 TCP/IP 계층에서 응용계층 바로 밑에 위치한다.

### 서버/클라이언트 모델
